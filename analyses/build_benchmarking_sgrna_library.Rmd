---
title: "Benchmarking sgRNA libraries: Build one mixed library for reduced set of essentials and non-essentials"
author: "Alex Kalinka"
date: "`r format(Sys.time(), '%d %B, %Y')`"
output:
  html_document:
    code_folding: hide
    depth: 3
    highlight: tango
    number_sections: true
    theme: spacelab
    toc: true
    toc_float: true
---

# Setup

```{r setup}
options(warn=-1)
suppressMessages(library(knitr))
suppressMessages(library(tidyr))
suppressMessages(library(magrittr))
suppressMessages(library(ggplot2))
suppressMessages(library(dplyr))

load(file="~/git-projects/essGenesCRISPR/data/ess.genes.rda")

genes <- read.csv("../data/benchmarking_genes.csv", stringsAsFactors = F) %>%
  mutate_at(vars(-Gene), .funs = function(x) ifelse(x == "y",T,F)) %>%
  mutate(pan_cancer = Gene %in% ess.genes$pan_cancer_Sanger,
         bagel_essential = Gene %in% ess.genes$bagel_essential,
         bagel_nonessential = Gene %in% ess.genes$bagel_nonessential)

```

# Sanity checks on input genes

```{r}
cat("Pan-cancer Sanger set:")
kable(table(genes$PanCancer_essential,genes$pan_cancer))

genes %>%
  filter(PanCancer_essential == F & pan_cancer == T)

kable(table(genes$Early_essential))
kable(table(genes$Mid_essential))
kable(table(genes$Late_essential))

```

# Build benchmarking library

```{r}


```



